---
layout: base
permalink: /
title: games
---

<div class="general-container">

{% assign games = site.games | sort: "order" %}
{% assign all_tags = "" | split: "" %}
{% assign tag_counts = "" | split: "" %}
{% for game in games %}
  {% if game.tags %}
    {% assign all_tags = all_tags | concat: game.tags %}
  {% endif %}
{% endfor %}
{% assign all_tags = all_tags | uniq | sort %}

<!-- Calculate tag frequencies -->
{% assign tag_frequency = "" | split: "" %}
{% for tag in all_tags %}
  {% assign count = 0 %}
  {% for game in games %}
    {% if game.tags contains tag %}
      {% assign count = count | plus: 1 %}
    {% endif %}
  {% endfor %}
  {% assign tag_with_count = tag | append: ":" | append: count %}
  {% assign tag_frequency = tag_frequency | push: tag_with_count %}
{% endfor %}

<!-- Filters Container -->
<div class="filters-container">
  <div class="flex-container">
    <h4 style="margin: 0 0 0.75rem 0; color: #333; font-size: 1.1rem; font-weight: bold;">Filter by Tags:</h4>
    
    {% for tag_data in tag_frequency %}
      {% assign tag_parts = tag_data | split: ":" %}
      {% assign tag = tag_parts[0] %}
      {% assign count = tag_parts[1] | plus: 0 %}
      {% assign size_class = "tag-size-low" %}
      {% if count >= 4 %}
        {% assign size_class = "tag-size-high" %}
      {% elsif count >= 2 and count <= 3 %}
        {% assign size_class = "tag-size-mid" %}
      {% endif %}
    <a class="filter-tag-name-{{ tag | downcase | replace: ' ', '-' | replace: '/', '' }} {{ size_class }}">{{ tag }}</a>&nbsp;
    {% endfor %}
  </div>

  <!-- Game Type Filter Section -->
  <div class="flex-container" style="margin-top: 1.5rem; border-top: 2px solid #ddd; padding-top: 1rem;">
    <h4 style="margin: 0 0 0.75rem 0; color: #333; font-size: 1.1rem; font-weight: bold;">Filter by Type:</h4>
    
    {% assign game_types = "" | split: "" %}
    {% for game in games %}
      {% if game.type %}
        {% assign game_types = game_types | push: game.type %}
      {% endif %}
    {% endfor %}
    {% assign game_types = game_types | uniq | sort %}
    
    {% for type in game_types %}
      {% assign count = 0 %}
      {% for game in games %}
        {% if game.type == type %}
          {% assign count = count | plus: 1 %}
        {% endif %}
      {% endfor %}
      
      {% if type == 'jam' %}
        <a class="filter-type-{{ type }} type-filter tag-orange">Game Jam ({{ count }})</a>&nbsp;
      {% elsif type == 'prototype' %}
        <a class="filter-type-{{ type }} type-filter tag-blue">Prototype ({{ count }})</a>&nbsp;
      {% elsif type == 'complete' %}
        <a class="filter-type-{{ type }} type-filter tag-green">Complete ({{ count }})</a>&nbsp;
      {% else %}
        <a class="filter-type-{{ type }} type-filter tag-gray">{{ type | capitalize }} ({{ count }})</a>&nbsp;
      {% endif %}
    {% endfor %}
  </div>
</div>

<!-- Selected Tags Section -->
<div id="selected-tags-section" style="margin: 2rem 0;">
  <div id="selected-tags-container" style="padding: 1rem; background: #e7f3ff; border-radius: 8px; border: 2px solid #007bff; display: none;">
    <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <button id="clear-filters" style="padding: 0.3rem 0.6rem; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8rem; font-weight: 500; transition: background-color 0.2s ease; display: flex; align-items: center; gap: 0.3rem;" title="Clear all filters">‚úï</button>
        <strong style="color: #0056b3;">Active Filters:</strong>
      </div>
      <div id="selected-tags-list" style="display: flex; flex-wrap: wrap; gap: 0.2rem;"></div>
    </div>
  </div>

  
</div>


<div class="game-grid">
{% for game in games reversed %}
<div class="game-card filter-visible {% if game.type %}game-type-{{ game.type }} filter-type-{{ game.type }}{% else %}game-type-unknown filter-type-unknown{% endif %}{% for tag in game.tags %} filter-tagged-as-{{ tag | downcase | replace: ' ', '-' | replace: '/', '' }}{% endfor %}">
	<div class="game-card-content">
		
		<!-- Game Header -->
		<div class="game-header">
			<h3>{{ game.title }}</h3>
			
			<!-- Game Status Badges -->
			<div class="game-status-badges">
				{% if game.type == 'jam' %}
					<span class="badge tag-orange">Game Jam</span>
					{% if game.jamname %}
						<span class="badge tag-light">{{ game.jamname }}</span>
					{% endif %}
				{% elsif game.type == 'prototype' %}
					<span class="badge tag-blue">Prototype</span>
				{% elsif game.type == 'complete' %}
					<span class="badge tag-green">Complete</span>
				{% else %}
					<span class="badge tag-gray">{{ game.type | default: "Game" | capitalize }}</span>
				{% endif %}
			</div>
		</div>
		
		<!-- Game Content -->
		<div class="game-content">
			<!-- Game Image -->
			<div class="game-image">
				{% if game.image %}
					{% if game.image.size and game.image.size > 1 %}
						<!-- Slideshow for multiple images -->
						<div class="slideshow-container" data-game="{{ game.title | slugify }}">
							{% for image in game.image %}
								<div class="slide {% if forloop.first %}active{% endif %}">
									<img src="{{site.baseurl}}/assets/{{image}}" alt="{{ game.title }} - Image {{ forloop.index }}" />
								</div>
							{% endfor %}
							<!-- Navigation arrows -->
							<button class="slide-prev" onclick="changeSlide('{{ game.title | slugify }}', -1)">‚Äπ</button>
							<button class="slide-next" onclick="changeSlide('{{ game.title | slugify }}', 1)">‚Ä∫</button>
							<!-- Dots indicator -->
							<div class="slide-dots">
								{% for image in game.image %}
									<span class="dot {% if forloop.first %}active{% endif %}" onclick="currentSlide('{{ game.title | slugify }}', {{ forloop.index }})"></span>
								{% endfor %}
							</div>
						</div>
					{% elsif game.image.size and game.image.size == 1 %}
						<!-- Single image from array -->
						<img src="{{site.baseurl}}/assets/{{game.image.first}}" alt="{{ game.title }}" />
					{% else %}
						<!-- Single image as string -->
						<img src="{{site.baseurl}}/assets/{{game.image}}" alt="{{ game.title }}" />
					{% endif %}
				{% else %}
					<img src="{{site.baseurl}}/assets/placeholder.png" alt="{{ game.title }}" />
				{% endif %}
			</div>
			
			<!-- Game Info -->
			<div class="game-info">
				<!-- Game Description -->
				<div class="game-description">
					{{ game.content }}
				</div>
				
				<!-- Game Tags -->
				<div class="game-tags">
					{% for tag in game.tags %}
						<span class="tag">{{ tag }}</span>
					{% endfor %}
				</div>
				
				<!-- Game Links -->
				<div class="game-links">
					{% if game.exturl %}
						<a href="{{ game.exturl }}" target="_blank" title="View Game Page" class="primary-link">üåê View Game</a>
					{% endif %}
					{% if game.link_web %}
						<a href="{{ game.link_web }}" target="_blank" title="Play Online">üéÆ Play</a>
					{% endif %}
					{% if game.link_windows %}
						<a href="{{ game.link_windows }}" target="_blank" title="Download for Windows">ü™ü Windows</a>
					{% endif %}
					{% if game.link_linux %}
						<a href="{{ game.link_linux }}" target="_blank" title="Download for Linux">üêß Linux</a>
					{% endif %}
					{% if game.link_mac %}
						<a href="{{ game.link_mac }}" target="_blank" title="Download for Mac">üçé Mac</a>
					{% endif %}
					{% if game.link_android %}
						<a href="{{ game.link_android }}" target="_blank" title="Download for Android">ü§ñ Android</a>
					{% endif %}
					{% if game.link_github %}
						<a href="{{ game.link_github }}" target="_blank" title="View Source Code">üíª Source</a>
					{% endif %}
					{% if game.link_home %}
						<a href="{{ game.link_home }}" target="_blank" title="Game Page">üè† Home</a>
					{% endif %}
					{% if game.link_youtube %}
						<a href="{{ game.link_youtube }}" target="_blank" title="Watch Video">üìπ Video</a>
					{% endif %}
				</div>
			</div>
		</div>
	</div>
</div>
{% endfor %}
</div>

</div>

<script>
// Slideshow functionality
function changeSlide(gameId, direction) {
  const container = document.querySelector(`[data-game="${gameId}"]`);
  const slides = container.querySelectorAll('.slide');
  const dots = container.querySelectorAll('.dot');
  
  // Find current active slide
  let currentIndex = 0;
  slides.forEach((slide, index) => {
    if (slide.classList.contains('active')) {
      currentIndex = index;
    }
  });
  
  // Calculate new index
  let newIndex = currentIndex + direction;
  if (newIndex >= slides.length) {
    newIndex = 0;
  } else if (newIndex < 0) {
    newIndex = slides.length - 1;
  }
  
  // Update slides
  slides[currentIndex].classList.remove('active');
  slides[newIndex].classList.add('active');
  
  // Update dots
  dots[currentIndex].classList.remove('active');
  dots[newIndex].classList.add('active');
}

function currentSlide(gameId, slideIndex) {
  const container = document.querySelector(`[data-game="${gameId}"]`);
  const slides = container.querySelectorAll('.slide');
  const dots = container.querySelectorAll('.dot');
  
  // Remove active class from all slides and dots
  slides.forEach(slide => slide.classList.remove('active'));
  dots.forEach(dot => dot.classList.remove('active'));
  
  // Add active class to selected slide and dot
  slides[slideIndex - 1].classList.add('active');
  dots[slideIndex - 1].classList.add('active');
}

// Auto-advance slideshow every 7 seconds (optional)
document.addEventListener('DOMContentLoaded', function() {
  const slideshows = document.querySelectorAll('.slideshow-container');
  
  slideshows.forEach(slideshow => {
    const gameId = slideshow.getAttribute('data-game');
    const slides = slideshow.querySelectorAll('.slide');
    
    if (slides.length > 1) {
      let intervalId = setInterval(() => {
        changeSlide(gameId, 1);
      }, 3000); // Auto-advance every 3 seconds
      
      // Pause auto-advance on hover
      slideshow.addEventListener('mouseenter', () => {
        clearInterval(intervalId);
      });
      
      // Resume auto-advance when hover ends
      slideshow.addEventListener('mouseleave', () => {
        intervalId = setInterval(() => {
          changeSlide(gameId, 1);
        }, 3000);
      });
    }
  });
});
</script>

</div>
